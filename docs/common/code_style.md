[TOC]

# Code-style and conventions

(пополняется командой разарботки)

## Основные положения

Данный документ описывает основные требования и соглашения относительно стилю кода.

Мы придерживаемся рекомендаций описанных в [EffectiveDart](https://www.dartlang.org/guides/language/effective-dart). Они не будут повторяться здесь(почти).

**Перед началом разработки строго рекомендуется ознакомится с официальным кодстайлом.**

Перед Pull Request ОБЯЗАТЕЛЬНО делаем форматирование кода по Ctrl+Alt+L (⌘ + ⌥ + L).

Для разработки преимущественно используем Android Studio. 

## Документация, комментарии

см. [Docs](https://www.dartlang.org/guides/language/effective-dart/documentation)

## Именование

### Именование файлов

Файлы именуются в **snake_case**.
Установлены следующие постфиксы для некоторых сущностей:
- *_screen* - файл с виджетом и стейтом экрана
- *_wm* - файл с WidgetModel и сопутствующими классами
- *_route* - файл c Route для экрана.

Отсальные файлы именуются по названию класса, который в них находится, либо
по назначению(например const.dart - файл с константами).

### Именование ресурсов

 - Идентификаторы ресурсов объявляются через const.
 Для возможного использования ресурса в качестве дефолтного значения в виджете.

### Именование переменных и методов

 - Константы-ключи, дефолтные значения именуются в SNAKE_CASE
    ```
        const String KEY_ALIAS = "KEY_ALIAS"
    ```
 - Исключение: константы ресурсов. Для их именования используется lowerCamelCase
 
 Выделены следующие префиксы и постфиксы:
   - *is/was/has/../другой вопросительный глагол* - логические переменные/методы
   - *..State* - изменяемая сущность, чаще всего представлена StreamedState
   - *..Action* - действие
   - *..Controller* - контроллеры действий в виджете
   
 Имена методов и функций должны содержать глагол, который выражает то действие, 
 которое выполняется методом. Следует избегать союзов And/Or в методах,
 наличие таковых - явный ризнак для рефакторинга кода.
 
 Для именования методов рекомендуется использовать следующие префиксы:
 - *_build..* - для методов построения дерева виджетов(или создания виджета)
 - *_reload..* - методы загрузки/перезагрузки данных
 
### Именование классов

Следует использовать следующие постфиксы для сущностей:
- *Screen* - виджет экрана
- *WidgetModel* - модель виджета
- *Component* - компонент для конфигурации зависимостей
- *Interactor* - интеракторы для бизнес-логики
- *Repository* - репозитории

## Организация кода

### Файловая структура

Типичная структура файлов файлов и папок описана [здесь][structure.md].

Следует:
    - Разбивать классы по слоям
    - Директория экрана должна содержать папку с настройков di компонента.
    - глобальные функции собирать в файлы _utils.dart
    
### Структура класса

Внутри класса следует использовать следующий порядок метод и полей:
1. static const
1. static
1. final
1. приватные поля(get/set)
1. публичные поля(get/set)
1. конструкторы класса
1. @override
1. публичные методы(static также здесь)
1. @protected методы
1. приватные методы

## Форматирование

**ВАЖНО**: осталяем лишнюю запятую в аргументах методов. Это называется trailing-comma.
Она позволяет улучшить читаемость и соблюсти правильное форматирование.


## Рекомендации

При разработке следует пользоваться правилами и подходами описанными [здесь](https://www.dartlang.org/guides/language/effective-dart/design)


